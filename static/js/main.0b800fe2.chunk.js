(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{17:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),s=a.n(c),i=(a(17),a(3)),o=a(4),u=a(6),l=a(5),j=a(8),m=(a(18),a(1)),h=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleNameCange=function(t){e.setState({query:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){var a=e.state.query;t.preventDefault(),""!==a.trim()?(e.props.onSubmit(a),e.reset()):j.b.error("Enter request!")},e.reset=function(){e.setState({query:""})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("header",{className:"searchbar",children:Object(m.jsxs)("form",{className:"searchForm",onSubmit:this.handleSubmit,children:[Object(m.jsx)("button",{type:"submit",className:"searchForm-button",children:Object(m.jsx)("span",{className:"searchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{className:"searchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.query,onChange:this.handleNameCange})]})})}}]),a}(r.Component),b=h,p=a(10),d=a.n(p),f=a(11),g="https://pixabay.com/api",O="23616749-9d77515f343e9cfce3b12231a",v="photo",x="horizontal",y=12;function w(){return(w=Object(f.a)(d.a.mark((function e(t,a){var r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(g,"/?q=").concat(t,"&page=").concat(a,"&key=").concat(O,"&image_type=").concat(v,"&orientation=").concat(x,"&per_page=").concat(y),e.next=3,fetch(r);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c.hits);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=a.p+"static/media/error.b241860c.jpg";var C=function(e){var t=e.message;return Object(m.jsxs)("div",{role:"alert",className:"error",children:[Object(m.jsx)("img",{src:S,width:"250",alt:"error"}),Object(m.jsx)("p",{children:t})]})};var k=function(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:"button",onClick:t,children:"Load more"})},N=function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,n=e.tags,c=e.onClick;return Object(m.jsx)("li",{className:"imageGalleryItem",children:Object(m.jsx)("img",{className:"imageGalleryItem-image",src:a,datascr:r,alt:n,onClick:c})},t)};var q=function(e){var t=e.images,a=e.onClick;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:"imageGallery",children:t.map((function(e){return Object(m.jsx)(N,{id:e.id,webformatURL:e.webformatURL,tags:e.tags,onClick:a},e.id)}))}),Object(m.jsx)(k,{})]})},F=a(12),L=a.n(F);var R=function(){return Object(m.jsx)("div",{className:"loader",children:Object(m.jsx)(L.a,{type:"Rings",color:"00BFFF",height:150,width:150,timeout:3e3})})},I=a.p+"static/media/camera-roll.5511c8c8.jpg";var U=function(){return Object(m.jsx)("div",{role:"alert",className:"rollImage",children:Object(m.jsx)("img",{src:I,alt:"cameraRoll"})})},A="idle",E="pending",G="resolved",B="rejected",D=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={images:[],status:A,page:1,largeImageURL:""},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,r=e.query,n=this.props.query;r!==n&&(this.setState({status:E}),function(e,t){return w.apply(this,arguments)}(n).then((function(e){if(0===e.hits.length)throw Error();a.setState({images:e.hits,status:G})})).catch((function(e){return a.setState({status:B})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status;return a===A?Object(m.jsx)(U,{}):a===E?Object(m.jsx)(R,{}):a===B?Object(m.jsx)(C,{message:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c"}):a===G?Object(m.jsx)(q,{image:t}):void 0}}]),a}(r.Component),J=D,_=(a(41),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.onSubmit=function(t){e.setState({query:t})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b,{onSubmit:this.onSubmit}),Object(m.jsx)(J,{query:e}),Object(m.jsx)(j.a,{autoClose:3e3})]})}}]),a}(r.Component)),z=_;s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(z,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0b800fe2.chunk.js.map