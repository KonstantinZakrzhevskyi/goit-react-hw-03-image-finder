(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={container:"Container_container__21QKl",title:"Container_title__1Lb1-"}},13:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__1N3nT",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__1_eYC"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__2uQgv",modal:"Modal_modal__uvk5Z"}},17:function(e,t,a){e.exports={button:"Button_button__pMhCk"}},22:function(e,t,a){},3:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__QD9UR",error:"ImageGallery_error__1O443",errorImage:"ImageGallery_errorImage__1joVt",loader:"ImageGallery_loader__3rM2b"}},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),o=a.n(c),s=(a(22),a(4)),i=a(5),l=a(7),u=a(6),m=a(10),h=(a(23),a(12)),d=a.n(h),g=a(1);var j=function(e){var t=e.title,a=e.children;return Object(g.jsxs)("section",{className:d.a.container,children:[t&&Object(g.jsx)("h2",{className:d.a.title,children:t}),a]})},b=a(9),p=a.n(b),f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){var a=e.state.query;t.preventDefault(),""!==a.trim()?(e.props.onSubmit(a),e.reset()):m.b.error("Enter request!")},e.reset=function(){e.setState({query:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(g.jsx)("header",{className:p.a.searchbar,children:Object(g.jsxs)("form",{className:p.a.searchForm,onSubmit:this.handleSubmit,children:[Object(g.jsx)("button",{type:"submit",disabled:!e,className:p.a.searchFormButton,children:Object(g.jsx)("span",{className:p.a.searchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:p.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})]})})}}]),a}(r.Component),v=f,y=a(15),O="https://pixabay.com/api",_="23616749-9d77515f343e9cfce3b12231a",x="photo",I="horizontal",C=12;function w(e,t){var a="".concat(O,"/?q=").concat(e,"&page=").concat(t,"&key=").concat(_,"&image_type=").concat(x,"&orientation=").concat(I,"&per_page=").concat(C);return fetch(a).then((function(e){return 200!==e.status?Promise.reject():e.json()})).catch((function(e){return console.error}))}var k=a.p+"static/media/error.b241860c.jpg",S=a(3),L=a.n(S);var N=function(e){var t=e.message;return Object(g.jsxs)("div",{role:"alert",className:L.a.error,children:[Object(g.jsx)("img",{className:L.a.errorImage,src:k,alt:"error",width:"550"}),Object(g.jsx)("p",{children:t})]})},F=a(13),G=a.n(F),q=function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,n=e.tags,c=e.onClick;return Object(g.jsx)("li",{className:G.a.imageGalleryItem,children:Object(g.jsx)("img",{className:G.a.imageGalleryItemImage,src:a,datasrc:r,alt:n,onClick:c})},t)};var M=function(e){var t=e.images,a=e.onClick;return Object(g.jsx)("ul",{className:L.a.imageGallery,children:t.map((function(e){return Object(g.jsx)(q,{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,onClick:a},e.id)}))})},R=a(16),U=a.n(R);var B=function(){return Object(g.jsx)("div",{className:L.a.loader,children:Object(g.jsx)(U.a,{type:"Rings",color:"00BFFF",height:250,width:250,timeout:3e3})})},D=a.p+"static/media/camera-roll.5511c8c8.jpg";var E=function(){return Object(g.jsx)("div",{role:"alert",className:L.a.ImageBgd,children:Object(g.jsx)("img",{src:D,alt:"cameraRoll"})})},A=a(14),K=a.n(A),T=document.querySelector("#modal-root"),P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){var a=e.props.onClose;"Escape"===t.code&&a()},e.handleBackdropClick=function(t){var a=e.props.onClose;t.currentTarget===t.target&&a()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.largeImagesURL,a=e.alt;return Object(c.createPortal)(Object(g.jsx)("div",{className:K.a.overlay,onClick:this.handleBackdropClick,children:Object(g.jsx)("div",{className:K.a.modal,children:Object(g.jsx)("img",{src:t,alt:a})})}),T)}}]),a}(r.Component),Q=P,z=a(17),J=a.n(z);var V=function(e){var t=e.onClick;return Object(g.jsx)("button",{className:J.a.button,type:"button",onClick:t,id:"btn",children:"Load more"})},Z="idle",H="pending",W="resolved",Y="rejected",X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={images:[],status:Z,showModal:!1,page:1,largeImageURL:"",alt:""},e.addImages=function(){w(e.props.query,e.state.page).then((function(t){e.setState((function(e){var a=e.images,r=e.page;return{images:[].concat(Object(y.a)(a),Object(y.a)(t.hits)),status:W,page:r+1}}))})).catch((function(t){return e.state({status:Y})}))},e.toggleModal=function(t,a){e.setState((function(e){return{showModal:!e.showModal,largeImageURL:t,alt:a}}))},e.onGalleryCardClick=function(t){var a=t.target.getAttribute("datasrc"),r=t.target.getAttribute("alt");e.toggleModal(a,r),console.log(a)},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,r=e.query,n=this.props.query;r!==n&&(this.setState({status:H}),w(n,this.state.page).then((function(e){if(0===e.hits.length)throw Error();a.setState((function(t){var a=t.page;return{images:e.hits,status:W,page:a+1}}))})).catch((function(e){return a.setState({status:Y})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,r=e.showModal,n=e.largeImageURL,c=e.alt;return a===Z?Object(g.jsx)(E,{}):a===H?Object(g.jsx)(B,{}):a===Y?Object(g.jsx)(N,{message:"No results were found for your search"}):a===W?Object(g.jsxs)(g.Fragment,{children:[r&&Object(g.jsx)(Q,{onClose:this.toggleModal,largeImageURL:n,alt:c}),Object(g.jsx)(M,{images:t,onClick:this.onGalleryCardClick}),Object(g.jsx)(V,{onClick:this.addImages})]}):void 0}}]),a}(r.Component),$=X,ee=(a(45),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.onSubmit=function(t){e.setState({query:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(g.jsxs)(j,{children:[Object(g.jsx)(v,{onSubmit:this.onSubmit}),Object(g.jsx)($,{query:e}),Object(g.jsx)(m.a,{autoClose:3e3})]})}}]),a}(r.Component)),te=ee;o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(te,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__HaLMP",searchForm:"Searchbar_searchForm__3FE3w",searchFormButton:"Searchbar_searchFormButton__1TZaz",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__3Imc5",searchFormInput:"Searchbar_searchFormInput__sVL-w"}}},[[46,1,2]]]);
//# sourceMappingURL=main.d2b56f58.chunk.js.map