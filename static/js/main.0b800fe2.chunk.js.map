{"version":3,"sources":["components/Searchbar/Searchbar.js","apiService/apiService.js","components/ImageGallery/error.jpg","components/ImageGallery/ImagesErrorView.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImagesDataView.js","components/ImageGallery/ImagesPendingView.js","components/ImageGallery/camera-roll.jpg","components/ImageGallery/ImagesIdleView.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","query","handleNameCange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","URL","page","a","url","fetch","response","json","parseResponse","hits","ImagesErrorView","message","role","src","errorImage","width","alt","Button","onClick","ImageGalleryItem","id","webformatURL","largeImageURL","tags","datascr","ImagesDataView","images","map","image","ImagesPendingView","color","height","timeout","ImageIdleView","cameraRoll","Status","ImageGallery","status","prevProps","prevState","prevQuery","nextQuery","fetchGallery","then","length","Error","catch","App","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0b800fe2.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleNameCange = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { query } = this.state;\r\n\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      toast.error('Enter request!');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(query);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"searchbar\">\r\n        <form className=\"searchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"searchForm-button\">\r\n            <span className=\"searchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"searchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleNameCange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","const URL = {\r\n  BASE_URL: 'https://pixabay.com/api',\r\n  API_KEY: '23616749-9d77515f343e9cfce3b12231a',\r\n  IMAGE_TYPE: 'photo',\r\n  ORIENTATION: 'horizontal',\r\n  PER_PAGE: 12,\r\n};\r\n\r\nexport default async function fetchGallery(query, page) {\r\n  const url = `${URL.BASE_URL}/?q=${query}&page=${page}&key=${URL.API_KEY}&image_type=${URL.IMAGE_TYPE}&orientation=${URL.ORIENTATION}&per_page=${URL.PER_PAGE}`;\r\n\r\n  const response = await fetch(url);\r\n  const parseResponse = await response.json();\r\n  return parseResponse.hits;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/error.b241860c.jpg\";","import errorImage from './error.jpg';\r\n\r\nfunction ImagesErrorView({ message }) {\r\n  return (\r\n    <div role=\"alert\" className=\"error\">\r\n      <img src={errorImage} width=\"250\" alt=\"error\" />\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagesErrorView;\r\n","function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({\r\n  id,\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags,\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <li key={id} className=\"imageGalleryItem\">\r\n      <img\r\n        className=\"imageGalleryItem-image\"\r\n        src={webformatURL}\r\n        datascr={largeImageURL}\r\n        alt={tags}\r\n        onClick={onClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  datascr: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import Button from 'components/Button';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem';\r\n\r\nfunction ImagesDataView({ images, onClick }) {\r\n  return (\r\n    <>\r\n      <ul className=\"imageGallery\">\r\n        {images.map(image => (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            id={image.id}\r\n            webformatURL={image.webformatURL}\r\n            tags={image.tags}\r\n            onClick={onClick}\r\n          />\r\n        ))}\r\n      </ul>\r\n      <Button />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImagesDataView;\r\n","import Loader from 'react-loader-spinner';\r\n\r\nfunction ImagesPendingView() {\r\n  return (\r\n    <div className=\"loader\">\r\n      <Loader\r\n        type=\"Rings\"\r\n        color=\"00BFFF\"\r\n        height={150}\r\n        width={150}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagesPendingView;\r\n","export default __webpack_public_path__ + \"static/media/camera-roll.5511c8c8.jpg\";","import cameraRoll from './camera-roll.jpg';\r\n\r\nfunction ImageIdleView() {\r\n  return (\r\n    <div role=\"alert\" className=\"rollImage\">\r\n      <img src={cameraRoll} alt=\"cameraRoll\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageIdleView;\r\n","import { Component } from 'react';\r\n\r\nimport fetchGallery from '../../apiService/apiService';\r\nimport ImagesErrorView from './ImagesErrorView';\r\nimport ImagesDataView from './ImagesDataView';\r\nimport ImagesPendingView from './ImagesPendingView';\r\nimport ImageIdleView from './ImagesIdleView';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    status: Status.IDLE,\r\n    page: 1,\r\n    largeImageURL: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.query;\r\n    const nextQuery = this.props.query;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({ status: Status.PENDING });\r\n\r\n      fetchGallery(nextQuery)\r\n        .then(images => {\r\n          if (images.hits.length === 0) {\r\n            throw Error();\r\n          }\r\n          this.setState({ images: images.hits, status: Status.RESOLVED });\r\n        })\r\n        .catch(error => this.setState({ status: Status.REJECTED }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { images, status } = this.state;\r\n    // const { query } = this.props;\r\n\r\n    if (status === Status.IDLE) {\r\n      return <ImageIdleView />;\r\n    }\r\n\r\n    if (status === Status.PENDING) {\r\n      return <ImagesPendingView />;\r\n    }\r\n\r\n    if (status === Status.REJECTED) {\r\n      return <ImagesErrorView message={'Ничего не получилось'} />;\r\n    }\r\n\r\n    if (status === Status.RESOLVED) {\r\n      return <ImagesDataView image={images} />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\n\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n  };\n\n  onSubmit = query => {\n    this.setState({ query });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery query={query} />\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}